---
import "../styles/tailwind.css";
import Header from "../components/Header.astro";
import expRaw from "../data/experience.yaml?raw";
import projectsRaw from "../data/projects.yaml?raw";
import YAML from "yaml";

// import the avatar so Astro rewrites the URL for us
import avatarUrl from "../assets/AdrianMolofsky.png";

const exp = YAML.parse(expRaw);
const projects = YAML.parse(projectsRaw);
const tagline = "Artificial Intelligence, Systems";
const experience = (exp as any[]).sort((a,b)=>(a.weight??999)-(b.weight??999));
const work = (projects as any[]).sort((a,b)=>(a.weight??999)-(b.weight??999));
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Adrian Molofsky</title>
    <meta name="description" content="AI & Systems @ Stanford — Portfolio of Adrian Molofsky" />
  </head>

  <body class="text-neutral-900 bg-white">
    <Header />

    <!-- HERO: full screen, centered -->
    <section id="hero" class="min-h-screen w-screen flex items-center justify-center bg-white">
  <div class="text-center px-6">
    <img
      src="/assets/AdrianMolofsky.png"
      alt="Adrian Molofsky"
      class="w-72 h-72 rounded-full object-cover shadow-xl mx-auto"
    />

    <h1 class="mt-8 text-7xl font-bold tracking-tight text-[var(--stanford-black)]">
      Adrian <span class="text-[var(--stanford-cardinal)]">Molofsky</span>
    </h1>

    <p class="mt-4 text-[38px] leading-tight font-normal text-[var(--stanford-grey)]">
      {tagline}
    </p>

    <!-- Icons keep the CV grey; hover = Cardinal -->
    <div class="mt-10 flex items-center justify-center gap-10 text-[var(--stanford-grey)]">
      <!-- Email -->
      <a href="mailto:molofsky@stanford.edu"
         class="transition-transform hover:scale-110" aria-label="Email" title="Email">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
             class="w-10 h-10 fill-[var(--stanford-grey)] hover:fill-[var(--stanford-cardinal)] transition-colors duration-300">
          <path d="M2 6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6zm2 0v.01L12 13l8-6.99V6H4zm0 12h16V8l-8 6-8-6v10z"/>
        </svg>
      </a>
      <!-- LinkedIn -->
      <a href="https://www.linkedin.com/in/molofsky/" target="_blank" rel="noopener"
         class="transition-transform hover:scale-110" aria-label="LinkedIn" title="LinkedIn">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"
             class="w-10 h-10 fill-[var(--stanford-grey)] hover:fill-[var(--stanford-cardinal)] transition-colors duration-300">
          <path d="M100.28 448H7.4V149.5h92.88zm-46.44-340C24.8 108 0 83.2 0 52.4A52.4
          52.4 0 0 1 53.84 0C84.4 0 109 24.8 109 55.6c0 30.8-24.6 55.6-55.16 55.6zM447.9
          448h-92.68V302.4c0-34.7-.7-79.3-48.34-79.3-48.4 0-55.8 37.8-55.8 76.8V448h-92.7
          V149.5h89V184h1.3c12.4-23.5 42.6-48.3 87.7-48.3 93.8 0 111 61.8 111 142.3V448z"/>
        </svg>
      </a>
      <!-- GitHub -->
      <a href="https://github.com/molofsky" target="_blank" rel="noopener"
         class="transition-transform hover:scale-110" aria-label="GitHub" title="GitHub">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
             class="w-10 h-10 fill-[var(--stanford-grey)] hover:fill-[var(--stanford-cardinal)] transition-colors duration-300">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.438 9.8 8.207 11.387.6.112.793-.261.793-.582
            0-.288-.011-1.053-.017-2.066-3.338.726-4.042-1.61-4.042-1.61
            -.546-1.387-1.333-1.757-1.333-1.757-1.09-.745.083-.729.083-.729
            1.205.085 1.84 1.238 1.84 1.238 1.07 1.832 2.809 1.303 3.495.997
            .108-.775.419-1.304.762-1.604-2.665-.304-5.466-1.332-5.466-5.931
            0-1.31.469-2.381 1.236-3.221-.124-.303-.536-1.523.117-3.176 0 0
            1.008-.322 3.301 1.23a11.5 11.5 0 0 1 3.004-.404c1.02.005 2.047.138
            3.004.404 2.291-1.552 3.297-1.23 3.297-1.23.655 1.653.243 2.873.12 3.176
            .77.84 1.235 1.911 1.235 3.221 0 4.61-2.805 5.625-5.475 5.921
            .43.372.823 1.103.823 2.222 0 1.604-.015 2.897-.015 3.293
            0 .324.19.699.8.58C20.565 21.795 24 17.308 24 12c0-6.63-5.373-12-12-12z"/>
        </svg>
      </a>
    </div>
  </div>
</section>

<!-- ABOUT -->
<section id="about" data-spy="section" class="py-15 scroll-mt-24">
  <div class="mx-auto max-w-screen-xl px-6">
    <h2 class="text-[2rem] md:text-[2.25rem] font-semibold text-neutral-900 tracking-tight">
      About
    </h2>

    <div class="mt-2 space-y-4 max-w-3xl">
      <p class="text-[18.5px] md:text-[19px] text-neutral-800 leading-7">
        I am currently pursuing my M.S. and have completed my B.S. in Computer Science at Stanford, with a minor in Electrical
        Engineering. I specialize in systems for artificial intelligence, specifically distributed systems and optimization. 
        I am advised by
        <a href="https://en.wikipedia.org/wiki/Mark_Alan_Horowitz" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Dr. Mark Horowitz</a>
        and
        <a href="https://en.wikipedia.org/wiki/Barbara_Engelhardt" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Dr. Barbara Engelhardt</a>,
        under whom I investigated multi-agent imitation learning.
      </p>

      <p class="text-[18.5px] md:text-[19px] text-neutral-800 leading-7">
        Outside of academics, I enjoy chess, poker, and golf.
      </p>
    </div>
  </div>
</section>

<!-- EXPERIENCE -->
<section id="experience" data-spy="section" class="py-15 scroll-mt-24">
  <div class="mx-auto max-w-screen-xl px-6">
    <h2 class="text-[2rem] md:text-[2.25rem] font-semibold text-neutral-900 tracking-tight">
      Experience
    </h2>

    <div class="mt-0">
      {experience.map((e:any) => (
        <article class="py-7 border-b border-neutral-200">
          <!-- Left grows, right stays auto width -->
          <div class="grid grid-cols-[1fr_auto] gap-x-10 items-start">
            <div class="min-w-0 break-words">
              <div class="font-semibold text-[19px] leading-snug">{e.title}</div>
              <div class="italic text-neutral-600 text-[17px] leading-snug" set:html={e.company}></div>
            </div>
            <div class="text-[17px] text-neutral-600 whitespace-nowrap text-right">{e.year}</div>
          </div>

          {Array.isArray(e.points) && e.points.length > 0 ? (
            <ul class="mt-3 list-disc pl-6 text-[17.5px] leading-8 text-neutral-700 space-y-1">
              {e.points.map((p:string) => <li>{p}</li>)}
            </ul>
          ) : (
            e.description && (
              <p class="mt-3 text-[17.5px] leading-8 text-neutral-700">{e.description}</p>
            )
          )}
        </article>
      ))}
    </div>
  </div>
</section>

<!-- PROJECTS -->
<section id="projects" data-spy="section" class="py-15 scroll-mt-24">
  <div class="mx-auto max-w-screen-xl px-6">
    <h2 class="text-[2rem] md:text-[2.25rem] font-semibold text-neutral-900 tracking-tight">
      Projects
    </h2>

    <div class="mt-8 grid gap-7 grid-cols-[repeat(auto-fill,minmax(320px,1fr))]">
      {work.map((p:any) => (
        <a
          href={p.link ?? "#"}
          target={p.link ? "_blank" : undefined}
          rel="noopener"
          class="block border border-neutral-200 rounded-xl p-6 hover:shadow-sm hover:-translate-y-0.5 transition"
        >
          <h3 class="font-semibold text-[19px] leading-snug">{p.title}</h3>
          {p.highlight && (
            <p class="mt-1 text-[14px] text-[color:#8c1515] font-semibold">{p.highlight}</p>
          )}
          <p class="mt-2 text-[17px] text-neutral-700 leading-8">{p.summary}</p>
          {p.linkText && (
            <span class="mt-3 inline-block text-[15px] text-neutral-900/80 hover:underline">
              {p.linkText} →
            </span>
          )}
        </a>
      ))}
    </div>
  </div>
</section>

  </body>
</html>